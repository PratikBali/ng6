// requestAnimationFrame polyfill by Erik MÃ¶ller. fixes from Paul Irish and Tino Zijdel // MIT license
!function(){"use strict";for(var n=0,i=["ms","moz","webkit","o"],e=0;e<i.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[i[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[e]+"CancelAnimationFrame"]||window[i[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(i,e){var t=(new Date).getTime(),o=Math.max(0,16-(t-n)),a=window.setTimeout(function(){i(t+o)},o);return n=t+o,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})}(),function(){"use strict";function n(){r=window.innerWidth,c=window.innerHeight,l={x:0,y:c},w=document.getElementById("magic"),w.style.height=c+"px",m=document.getElementById("magic-canvas"),m.width=r,m.height=c,d=m.getContext("2d"),s=[];for(var n=0;.5*r>n;n++){var i=new a;s.push(i)}o()}function i(){window.addEventListener("scroll",e),window.addEventListener("resize",t)}function e(){h=document.body.scrollTop>c?!1:!0}function t(){r=window.innerWidth,c=window.innerHeight,w.style.height=c+"px",m.width=r,m.height=c}function o(){if(h){d.clearRect(0,0,r,c);for(var n in s)s[n].draw()}requestAnimationFrame(o)}function a(){function n(){i.pos.x=Math.random()*r,i.pos.y=c+100*Math.random(),i.alpha=.1+.4*Math.random(),i.scale=.1+.4*Math.random(),i.velocity=Math.random()}var i=this;!function(){i.pos={},n(),console.log(i)}(),this.draw=function(){i.alpha<=0&&n(),i.pos.y-=i.velocity,i.alpha-=5e-4,d.beginPath(),d.arc(i.pos.x,i.pos.y,10*i.scale,0,2*Math.PI,!1),d.fillStyle="rgba(255,255,255,"+i.alpha+")",d.fill()}}var r,c,w,m,d,s,l,h=!0;n(),i()}();
